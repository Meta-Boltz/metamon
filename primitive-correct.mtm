// primitive-correct.mtm - Following ULTRA_MODERN_MTM.md specification
export default function PrimitiveCorrect() {
  // Ultra-modern MTM syntax with signal system
  $currentPage! = signal('currentPage', 'home')
  $counter! = signal('counter', 0)
  $message! = signal('message', 'Welcome to Ultra-Modern MTM!')

  // Navigation functions (client-side routing)
  $goHome = () => {
    $currentPage = 'home'
    $message = 'Navigated to Home page'
    signal.emit('page-changed', { page: 'home' })
  }

  $goAbout = () => {
    $currentPage = 'about'
    $message = 'Navigated to About page'
    signal.emit('page-changed', { page: 'about' })
  }

  $goContact = () => {
    $currentPage = 'contact'
    $message = 'Navigated to Contact page'
    signal.emit('page-changed', { page: 'contact' })
  }

  // Counter functions
  $increment = () => {
    $counter++
    $message = `Counter incremented to ${$counter}`
    signal.emit('counter-updated', { value: $counter })
  }

  $decrement = () => {
    $counter--
    $message = `Counter decremented to ${$counter}`
    signal.emit('counter-updated', { value: $counter })
  }

  $reset = () => {
    $counter = 0
    $message = 'Counter reset to zero'
    signal.emit('counter-reset', { value: 0 })
  }

  <template>
    <div class="primitive-app">
      <header class="header">
        <h1>ğŸ”® Ultra-Modern MTM Test</h1>
        <p class="status">{$message}</p>
      </header>

      <nav class="navigation">
        <button click={$goHome} class="nav-btn">Home</button>
        <button click={$goAbout} class="nav-btn">About</button>
        <button click={$goContact} class="nav-btn">Contact</button>
        <span class="current-page">Current: {$currentPage}</span>
      </nav>

      <main class="content">
        <h2>Page: {$currentPage}</h2>
        
        {#if $currentPage === 'home'}
          <section class="home-content">
            <h3>ğŸ  Home Page</h3>
            <p>Welcome to the MTM framework demonstration!</p>
            <div class="counter-section">
              <h4>Interactive Counter</h4>
              <div class="counter-display">
                <button click={$decrement}>-</button>
                <span class="count">{$counter}</span>
                <button click={$increment}>+</button>
                <button click={$reset} class="reset-btn">Reset</button>
              </div>
            </div>
          </section>
        {/if}

        {#if $currentPage === 'about'}
          <section class="about-content">
            <h3>â„¹ï¸ About MTM Framework</h3>
            <p>MTM (Meta-Template-Metamon) is a revolutionary meta-framework.</p>
            <ul>
              <li>âœ… Write once, compile to React, Vue, Svelte, SolidJS</li>
              <li>âœ… Ultra-modern syntax with signal system</li>
              <li>âœ… Template-first architecture</li>
              <li>âœ… Pure JavaScript fallback</li>
            </ul>
            <p>Current counter value: {$counter}</p>
          </section>
        {/if}

        {#if $currentPage === 'contact'}
          <section class="contact-content">
            <h3>ğŸ“§ Contact Information</h3>
            <p>Get in touch with the MTM team!</p>
            <div class="contact-info">
              <p>Email: hello@mtm-framework.dev</p>
              <p>GitHub: github.com/mtm-framework</p>
              <p>Counter state: {$counter}</p>
            </div>
          </section>
        {/if}
      </main>

      <footer class="footer">
        <p>MTM Framework - Ultra-Modern Meta-Framework</p>
        <p>State: counter={$counter}, page={$currentPage}</p>
      </footer>
    </div>
  </template>
}