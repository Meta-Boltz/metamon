<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhanced Routing Multi-Framework Examples</title>
  <link rel="stylesheet" href="/src/styles/global.css">
</head>
<body>
  <div id="app">
    <div class="loading">
      <h1>Enhanced MTM Framework Examples</h1>
      <p>Loading...</p>
    </div>
  </div>
  
  <script type="module">
    // Simple router for demonstration
    const routes = {
      '/': () => import('/src/pages/index.js'),
      '/about': () => import('/src/pages/about.js'),
      '/mtm-example': () => import('/src/pages/mtm-example.js'),
      '/react-example': () => import('/src/pages/react-example.js'),
      '/vue-example': () => import('/src/pages/vue-example.js'),
      '/solid-example': () => import('/src/pages/solid-example.js'),
      '/svelte-example': () => import('/src/pages/svelte-example.js')
    };

    async function navigate(path) {
      const route = routes[path] || routes['/'];
      try {
        const module = await route();
        const app = document.getElementById('app');
        app.innerHTML = module.default();
        
        // Update browser history
        if (window.location.pathname !== path) {
          history.pushState({}, '', path);
        }
      } catch (error) {
        console.error('Navigation error:', error);
        document.getElementById('app').innerHTML = `
          <div class="error">
            <h1>Page Not Found</h1>
            <p>The requested page could not be loaded.</p>
            <a href="/">Return to Home</a>
          </div>
        `;
      }
    }

    // Handle anchor tag clicks
    document.addEventListener('click', (e) => {
      if (e.target.tagName === 'A' && e.target.href.startsWith(window.location.origin)) {
        e.preventDefault();
        const path = new URL(e.target.href).pathname;
        navigate(path);
      }
    });

    // Handle browser back/forward
    window.addEventListener('popstate', () => {
      navigate(window.location.pathname);
    });

    // Initial navigation
    navigate(window.location.pathname);
  </script>
</body>
</html>